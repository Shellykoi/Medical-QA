# 医疗知识图谱问答系统使用说明

## 项目简介

这是一个基于医疗知识图谱的智能问答系统，能够回答关于疾病症状、病因、治疗方法等医疗相关问题。系统使用Python开发，无需复杂的数据库配置即可运行。

## 环境要求

- Python 3.6+
- 无需额外安装数据库（使用JSON数据文件）

## 文件说明

- `web_server.py` - Web服务器（推荐使用）
- `templates/index.html` - 前端界面文件
- `medical_qa_gui.py` - GUI图形界面版本
- `medical_qa_system.py` - 命令行主程序文件
- `simple_test.py` - 测试版本（包含调试信息）
- `requirements.txt` - Python依赖包列表
- `data/medical.json` - 医疗数据文件
- `dict/` - 词典文件目录
  - `disease.txt` - 疾病词典
  - `symptom.txt` - 症状词典
  - `drug.txt` - 药品词典
  - `food.txt` - 食物词典
  - `check.txt` - 检查项目词典

## 运行方法

### 1. Web前端界面（推荐）
```bash
# 安装依赖
pip install -r requirements.txt

# 启动Web服务器
python3 web_server.py
```
然后在浏览器中访问：http://localhost:5000

**特色功能**：
- 🎨 现代化Web界面，美观简洁
- 💬 类似聊天软件的对话体验
- ⚡ 实时问答交互
- 📱 响应式设计，支持手机访问
- 🔍 智能问题识别
- 💡 示例问题快速提问

### 2. GUI图形界面
```bash
python3 medical_qa_gui.py
```
启动桌面图形用户界面，支持：
- 直观的对话界面
- 实时问答交互
- 示例问题快速提问
- 对话记录管理
- 多线程处理，界面不卡顿

### 3. 演示模式
```bash
python3 medical_qa_system.py demo
```
运行预设的演示问题，展示系统功能。

### 4. 交互模式
```bash
python3 medical_qa_system.py
```
进入交互式问答模式，可以自由提问。

## 支持的问题类型

1. **疾病症状查询**
   - 例：乳腺癌的症状有哪些？
   - 例：感冒有什么症状？

2. **疾病描述查询**
   - 例：糖尿病
   - 例：高血压是什么？

3. **疾病病因查询**
   - 例：为什么有的人会失眠？
   - 例：高血压的成因是什么？

4. **疾病治疗查询**
   - 例：感冒要多久才能好？
   - 例：高血压怎么治疗？

## GUI界面功能

### 界面特色
- 🎨 **美观设计**：采用现代化UI设计，界面简洁美观
- 💬 **对话界面**：类似聊天软件的对话体验
- ⚡ **实时响应**：多线程处理，界面不卡顿
- 🔍 **智能识别**：自动识别问题类型和医疗实体
- 📝 **对话记录**：完整的对话历史记录
- 🗑️ **一键清空**：快速清空对话记录
- 💡 **示例问题**：内置常用问题示例

### 界面布局
1. **标题区域**：显示系统名称和描述
2. **输入区域**：问题输入框和操作按钮
3. **对话区域**：显示问答对话记录
4. **状态栏**：显示系统状态信息
5. **示例按钮**：快速提问常用问题

## 使用示例

### GUI界面示例
启动GUI后，您可以：
1. 在输入框中输入问题
2. 点击"提问"按钮或按回车键
3. 查看系统回答
4. 使用示例问题快速提问
5. 清空对话记录重新开始

### 命令行示例
```
用户: 乳腺癌的症状有哪些？
小勇: 腺癌的症状包括：胸痛；共济失调；咯血；痰中带血丝；胸闷；呛咳；眩晕

用户: 糖尿病
小勇: 糖尿病，熟悉一下：糖尿病是一种比较常见的内分泌代谢性疾病...

用户: 为什么有的人会失眠？
小勇: 失眠可能的成因有：躯体疾病和服用药物可以影响睡眠...

用户: 感冒要多久才能好？
小勇: 感冒的治疗信息：
治疗方式：对症治疗；中医治疗；支持性治疗
治疗周期：7-14天
治愈概率：97%
```

## 注意事项

1. 系统基于预定义的医疗数据，回答仅供参考，不能替代专业医疗建议
2. 如有严重疾病，请及时就医
3. 系统支持中文问答
4. 输入 'quit'、'exit' 或 'q' 可以退出系统

## 技术特点

- 基于词典匹配的实体识别
- 基于关键词的问题分类
- 支持多种问题类型
- 无需数据库配置
- 轻量级实现

## 项目结构

```
QASystemOnMedicalKG-master/
├── medical_qa_system.py    # 主程序
├── simple_test.py          # 测试版本
├── data/
│   └── medical.json        # 医疗数据
├── dict/                   # 词典文件
│   ├── disease.txt
│   ├── symptom.txt
│   ├── drug.txt
│   ├── food.txt
│   └── check.txt
└── 使用说明.md             # 本文件
```

## 扩展说明

如需使用完整的Neo4j数据库版本，请参考原始项目文件：
- `build_medicalgraph.py` - 构建知识图谱
- `chatbot_graph.py` - 完整版聊天机器人
- `question_classifier.py` - 问题分类器
- `question_parser.py` - 问题解析器
- `answer_search.py` - 答案搜索器

## 联系方式

如有问题，可联系：https://liuhuanyong.github.io/
